# Main configuration file for TTA experiments
# Usage: python scripts/run_tta.py
# Override values: python scripts/run_tta.py tta.forward_mode=discriminative_only

defaults:
  - model: combined
  - data: ade20k_c
  - trainer: default
  - _self_

# Experiment identification
experiment_name: "first_try"
seed: 42

# TTA settings
tta:
  # Whether to reset model between tasks (continual=false means reset)
  continual: false
  
  # Forward mode: "tta" for full TTA, "discriminative_only" for baseline
  forward_mode: "tta"
  
  # Number of epochs per task
  max_epochs: 1
  
  # Optimizer settings
  learning_rate: 1e-05
  weight_decay: 0.0
  optimizer_type: "adamw"
  betas: [0.9, 0.999]
  
  # Which components to update
  update_discriminative: true
  update_generative: true

# Logging configuration
logging:
  wandb:
    project: "dusa-seg-tta"
    entity: null  # Set to your W&B username/org if needed
