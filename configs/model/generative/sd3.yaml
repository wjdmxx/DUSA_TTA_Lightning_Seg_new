# Stable Diffusion 3 generative model configuration

model_path: "stabilityai/stable-diffusion-3-medium-diffusers"

# Prompt template for class conditioning
prompt_template: "a photo of a {}"

# Class names to use (matches discriminative model)
class_names: "ADE_CATEGORIES"

# Timestep sampling range for flow matching
timestep_range: [0.0, 1.0]

# Device placement for model parallelism
# VAE and text encoders on cuda:0
# Transformer split: first half on cuda:0, second half on cuda:1
# Loss computation happens on vae device (cuda:0)
devices:
  vae: "cuda:0"
  text_encoders: "cuda:0"
  transformer_input_device: "cuda:0"

# Preprocessing for SD3 (normalize to [-1, 1])
preprocessing:
  normalize: true  # Map [0, 255] to [-1, 1]

# Sliding window settings
sliding_window:
  window_size: 512  # Must match short edge of input

# Precision settings
precision: "bf16"  # Use bfloat16 for mixed precision
